---
export let title = "Navbar";
const { pathname } = Astro.url;
export let links = [
  { name: "Home", path: "#home" },
  { name: "About", path: "#about" },
  { name: "Skills", path: "#skills" },
  { name: "Project", path: "#projects" },
  { name: "Contact", path: "#contacts" },
];
---

<header
  class="flex items-center justify-between px-6 py-4 border-b-4 border-black">
  <div class="font-bold text-xl border-2 border-black px-3 py-1">HayProject</div>

  <nav id="nav-menu" class="hidden md:flex gap-6 font-semibold">
    {
      links.map((link) => (
        <a
          href={link.path}
          class={`hover:underline ${link.path === pathname ? "active" : ""}`}>
          {" "}
          {link.name}{" "}
        </a>
      ))
    }
  </nav>

  <button id="burger-btn" class="md:hidden border-2 border-black p-2">
    <div class="w-6 h-0.5 bg-black mb-1"></div>
    <div class="w-6 h-0.5 bg-black mb-1"></div>
    <div class="w-6 h-0.5 bg-black"></div>
  </button>
</header>

<!-- Mobile Menu (Hidden by default) -->
<div id="mobile-menu" class="hidden md:hidden border-b-4 border-black bg-white">
  <nav class="flex flex-col p-4 gap-3 font-semibold">
    {
      links.map((link) => (
        <a
          href={link.path}
          class={`hover:underline ${link.path === pathname ? "active" : ""}`}>
          {" "}
          {link.name}{" "}
        </a>
      ))
    }
  </nav>
</div>

<script is:inline>
  // Burger menu functionality
  const burgerBtn = document.getElementById("burger-btn");
  const mobileMenu = document.getElementById("mobile-menu");

  burgerBtn.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  // Close mobile menu when clicking on a link
  const mobileLinks = mobileMenu.querySelectorAll("a");
  mobileLinks.forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu.classList.add("hidden");
    });
  });
</script>
