---
export let title = "Projects";
type Project = {
  name: string;
  description: string;
  image: string;
  link: string;
};

const res = await fetch(import.meta.env.PUBLIC_BASE_URL);
const projects = await res.json();
---

<section class="text-gray-700 body-font" id="projects">
  <div class="container px-5 py-24 mx-auto">
    <h1 class="text-4xl font-bold text-center mb-12">
      My <span class="text-blue-700">Projects</span>
    </h1>
    <div class="flex flex-wrap justify-center gap-6">
      {
        projects.map((project: Project ) => (
          <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4">
            <div class="bg-white border border-gray-300 rounded-lg shadow-md p-5 flex flex-col items-center h-full transition-transform duration-300 hover:-translate-y-2 hover:shadow-lg">
              <img
                src={project.image}
                alt={project.name}
                class="w-32 h-32 object-contain mb-4"
                loading="lazy"
              />
              <h2 class="text-xl font-semibold text-gray-900 mb-2">
                {project.name}
              </h2>
              <p class="text-sm text-gray-600 text-center mb-4 line-clamp-3">
                {project.description}
              </p>
              <a
                href={project.link}
                target="_blank"
                rel="noopener noreferrer"
                class="mt-auto inline-block px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 transition">
                View Project
              </a>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
